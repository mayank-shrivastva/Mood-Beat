<!DOCTYPE html>
<html lang="en">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Mood Beats">
    <meta name="keywords" content="Mood Beats">
    <meta name="author" content="Mood Beats">
    <link rel="icon" href="{{ url_for('static', filename='images/favicon.png') }}" type="image/x-icon" />
    <link rel="shortcut icon" href="{{ url_for('static', filename='images/favicon.png') }}" type="image/x-icon" />
    <title>Mood Beats</title>

    <!-- Bootstrap CSS -->
    <link id="rtl-link" rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/vendors/bootstrap.css') }}">

    <!-- Remixicon CSS -->
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/vendors/remixicon.css') }}">

    <!-- Iconsax CSS -->
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/vendors/iconsax.css') }}" />

    <!-- Animation CSS -->
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/vendors/aos.css') }}">

    <!-- Swiper Slider CSS -->
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/vendors/swiper-bundle.min.css') }}" />

    <!-- Style CSS -->
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/movie.css') }}">
</head>

<body>
    <section class="chatting-wrapper pt-0">
        <nav class="navbar navbar-expand-md p-0">
            <button class="navbar-toggler d-none" type="button" data-bs-toggle="collapse"
                data-bs-target="#mainnavbarNav" aria-controls="mainnavbarNav" aria-expanded="false"
                aria-label="Toggle navigation">
                <i class="iconsax" data-icon="text-align-justify"></i>
            </button>
            <div class="collapse navbar-collapse" id="mainnavbarNav">
                <div class="menu-panel">
                    <button data-bs-toggle="collapse" data-bs-target="#mainnavbarNav"
                        class="mainnav-close d-block d-md-none"><i class="iconsax" data-icon="close-circle"></i>
                    </button>
                    <a href="{{ url_for('index') }}" class="logo-icon d-none d-md-flex">
                        <img src="{{ url_for('static', filename='css/logo.png') }}" class="img-fluid">
                    </a>
                    <ul class="nav nav-tabs menu-wrapper" id="myTab" role="tablist">
                        <li data-bs-toggle="tooltip" data-bs-placement="right" data-bs-title="Chat" class="nav-item"
                            role="presentation">
                            <button class="nav-link active" data-bs-toggle="tab" data-bs-target="#chat" type="button"
                                role="tab" aria-controls="chat" aria-selected="true"><i class="iconsax"
                                    data-icon="messages-2"></i>
                                <span>Chat</span> </button>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>
        <div class="tab-content">
            <div class="tab-pane fade show active" id="chat" role="tabpanel" aria-labelledby="chat" tabindex="0">
                <div class="main-wrapper">
                    <nav class="navbar navbar-expand-lg bg-light p-0">
                        <button class="navbar-toggler d-none" type="button" data-bs-toggle="collapse"
                            data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false"
                            aria-label="Toggle navigation">
                            <i class="iconsax" data-icon="text-align-justify"></i>
                        </button>
                        <div class="collapse navbar-collapse" id="navbarNav">
                            <div class="inner-menu-panel">
                                <button data-bs-toggle="collapse" data-bs-target="#navbarNav"
                                    class="inner-close d-block d-lg-none">Back
                                </button>
                                <div class="search-box">
                                    <i class="iconsax" data-icon="search-normal-2"></i>
                                    <input type="text" class="form-control" placeholder="Search here..">
                                </div>
                                <ul class="inner-links-list" id="innerLink">
                                    <li><a href="chat" data-title="Ask anything">Ask anything</a></li>
                                    <li class="active"><a href="joke" data-title="Joke">Joke</a></li>
                                    <li><a href="movie" data-title="movie recommendation">Movie Recommendation</a></li>
                                    <li  ><a href="song" data-title="Music Recommendation">Music Recommendation</a></li>
                                </ul>
                            </div>
                        </div>
                    </nav>
                    <div class="chat-header">
                        <div class="d-flex align-items-center gap-2">
                            <button class="navbar-toggler d-md-none d-block" type="button" data-bs-toggle="collapse"
                                data-bs-target="#mainnavbarNav" aria-controls="mainnavbarNav" aria-expanded="false"
                                aria-label="Toggle navigation">
                                <i class="iconsax" data-icon="text-align-justify"></i>
                            </button>
                            <a href="index.html" class="logo-icon d-flex d-md-none">
                                 
                            </a>
                            <h3 id="targetDiv">Ask Joke</h3>
                        </div>
                        <div class="header-option">
                             
                        </div>
                    </div>
                    <div class="main-chat">
                        <div class="no-chat">
                            <div>
                                 
                            </div>
                        </div>
                        <div class="msger-chat">
                        </div>
                        <form class="msger-inputarea">
                            <button class="navbar-toggler d-lg-none d-block msger-send-btn" type="button"
                                data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav"
                                aria-expanded="false" aria-label="Toggle navigation">
                                <i class="iconsax" data-icon="text-align-justify"></i>
                            </button>
                            <input type="text" class="msger-input" placeholder="Ask me any question here..." />
                            <a href="#" class="scan-icon"><i class="iconsax" data-icon="scan-1"></i></a>
                            <a href="#" class="mic-icon"><i class="iconsax" data-icon="mic-1"></i></a>
                            <button type="submit" class="msger-send-btn"><i class="iconsax"
                                    data-icon="send-1"></i></button>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!--custom cursor start  -->
    <div id="cursor"></div>
    <div id="cursor-border"></div>
    <!--custom cursor start  -->
    <!-- Bootstrap js-->
    <script src="{{ url_for('static', filename='js/bootstrap.bundle.min.js') }}"></script>
    <!-- Swiper Slider JS -->
    <script src="{{ url_for('static', filename='js/swiper-bundle.min.js') }}"></script>
    <script src="{{ url_for('static', filename='js/custom-slider.js') }}"></script>
    <!-- Custom cursor -->
    <script src="{{ url_for('static', filename='js/custom-cursor.js') }}"></script>
    <!-- Iconsax JS -->
    <script src="{{ url_for('static', filename='js/iconsax.js') }}"></script>
    <!-- Chat page JS -->
     
   
    <script>const msgerForm = document.querySelector(".msger-inputarea");
        const msgerInput = document.querySelector(".msger-input");
        const msgerChat = document.querySelector(".msger-chat");
        
        const BOT_IMG = "../../assets/images/icons/pro1.png";
        const PERSON_IMG = "../../assets/images/icons/profile.png";
        const BOT_NAME = "BOT";
        const PERSON_NAME = "Kristin Williams";
        
        const mkJsonContent = {
            "intents": [
                {
                    "tag": "greeting",
                    "patterns": ["Hello", "Hi", "Hey", "नमस्ते", "हाय","hy","helo", "wassup", "Howdy", "What's going on"],
                    "responses": ["Hi there! How can I help you?", 
                    "Hello! What can I do for you today?",
                 ]
                },
                {
                    "tag": "goodbye",
                    "patterns": ["Goodbye", "Bye", "See you later", "अलविदा", "फिर मिलेंगे"],
                    "responses": [
                        "Goodbye! Have a great day!",
                        "See you later!",
                         
                    ]
                },
                {
                    "tag": "thanks",
                    "patterns": ["Thanks", "Thank you", "Appreciate it", "धन्यवाद", "शुक्रिया"],
                    "responses": [
                        "You're welcome!",
                        "Glad I could help!",
                        
                    ]
                },
                {
                    "tag": "unknown",
                    "patterns": ["I don't know", "Sorry, I'm not sure", "मुझे नहीं पता", "मुझे माफ़ करें, मैं नहीं जानता"],
                    "responses": [
                        "I'm here to assist. Is there anything else you'd like to know?",
                        "No problem. What else can I help you with?",
                        
                    ]
                },
                 
                {
                    "tag": "joke",
                    "patterns": ["Tell me a joke", "Joke of the day", "Make me laugh", "मुझे एक जोक सुनाओ", "आज का जोक", "मुझे हंसाओ" ,"another joke","joke","Joke","JOKE"],
                    "responses": [
                         
                                    
                                 "एक छोटे बच्चे ने अपने दादा से पूछा, 'दादा, तुम्हें शादी कैसे हुई थी?' दादा ने कहा, 'बेटा, हमारी शादी एक खुली जेब में हुई थी।' बच्चा: 'वाह, दादा, तुम तो बहुत आउट ऑफ बॉक्स सोचते हो!'",
                                 "Why did the scarecrow win an award? Because he was outstanding in his field!",
                                 "पति: तुम मुझे वहाँ ले जा रही हो, जहाँ बहुत सारे जानवर हैं। पत्नी: हाँ, तुम्हारा घर!",
                                 "Parallel lines have so much in common. It's a shame they'll never meet.",
                                 "गोलू: मैं बहुत होशियार हूँ, मुझसे कोई छल नहीं हो सकता। पप्पु: अच्छा, तो इसमें बड़े होशियार होकर बता, गोलू कैसे मरा?",
                                 "Why don't scientists trust atoms? Because they make up everything!",
                                 "पति: यार तेरी जैसी बीवी मिली है, सबको मिले ऐसी बीवी चाहिए। पत्नी: कौन सा सब, कौन सा सब?",
                                 "Did you hear about the mathematician who's afraid of negative numbers? He'll stop at nothing to avoid them.",
                                 "टीचर: बच्चों, अगर तुम्हारा एक हाथ नकली होता और दूसरा असली, तो तुम कौन सा हाथ छुपाते? बच्चा: मैं इन्हें एक-एक करके मिला देता!",
                                 "I used to play piano by ear, but now I use my hands and fingers.",
                                 "पप्पु: कल मेरा बर्थडे है, तू क्या लाएगा गिफ्ट? गोलू: कुछ भी चाहिए तो कह, मैं ला दूँगा। पप्पु: अबे छोटे, मेरा बर्थडे तेरा नहीं है!",
                                 "Why did the computer go to therapy? It had too many bytes of emotional baggage.",
                                 "टीचर: तुम्हारा होमवर्क कहाँ है? बच्चा: टीचर, दो तरह का होमवर्क है - एक जो तुमने बताया और दूसरा जो तुमने नहीं बताया।",
                                 "I told my wife she should embrace her mistakes. She gave me a hug.",
                                 "पति: तुम बहुत अच्छी लग रही हो! पत्नी: धन्यवाद, तुम भी बहुत अच्छे लग रहे हो! पति: सच में? पत्नी: हाँ, सच में, किसी और के सामने!",
                                 "I only know 25 letters of the alphabet. I don't know y.",
                                 "बच्चा: मुझे एक डॉल चाहिए। पैसेवाला: क्यों, तुम्हारी बहन को चाहिए क्या? बच्चा: नहीं, मेरी माँ को। बहन को तो एक भूतिया लगती है!",
                                 "Why did the bicycle fall over? Because it was two-tired!",
                                 "पप्पु: तू बहुत तेज़ है, तेरा बॉयफ्रेंड कैसा है? गोलू: वह भी तेज़ है। पप्पु: फिर तू उससे कैसे मिलती है? गोलू: अरे, हम हर वक्त प्रेस वाले के पास जाते हैं!",
                                 "I told my wife she was drawing her eyebrows too high. She looked surprised.",
                                
                                     "पति: तुम जो भी पका लो, मैं खाऊंगा! पत्नी: तू जो भी पका ले, मेरे बच्चों को मत खिला देना!",
                                 
                                     "Why don't scientists trust atoms? Because they make up everything!",
                                
                                     
                                     "टीचर: बच्चों, तुम्हारे माता-पिता क्या काम करते हैं? बच्चा: जी, वो",
                        
                        "Why don't scientists trust atoms? Because they make up everything!",
                        "Did you hear about the mathematician who's afraid of negative numbers? He'll stop at nothing to avoid them.",
                        "Parallel lines have so much in common. It's a shame they'll never meet.",
                        "Why did the computer go to therapy? It had too many bytes of emotional baggage.",
                        "I used to play piano by ear, but now I use my hands and fingers."
                    ]
                },
                 
            ]
        }
        msgerForm.addEventListener("submit", (event) => {
          event.preventDefault();
        
          const msgText = msgerInput.value;
          if (!msgText) return;
        
          appendMessage(PERSON_NAME, PERSON_IMG, "right", msgText);
          msgerInput.value = "";
        
          const response = getBotResponse(msgText);
          appendMessage(BOT_NAME, BOT_IMG, "left", response);
        });
        
        function appendMessage(name, img, side, text) {
          const msgHTML = `
            <div class="msg ${side}-msg">
              <div class="msg-bubble">
                <div class="msg-text">${text}</div>
              </div>
            </div>
          `;
        
          msgerChat.insertAdjacentHTML("beforeend", msgHTML);
          msgerChat.scrollTop += 500;
        }
        
        function getBotResponse(userInput) {
          const matchedIntent = mkJsonContent.intents.find((intent) => {
            return intent.patterns.some((pattern) => {
              const regex = new RegExp(pattern, "i");  
              return regex.test(userInput);
            });
          });
        
          if (matchedIntent) {
            const responses = matchedIntent.responses;
            const randomResponse = responses[Math.floor(Math.random() * responses.length)];
            return randomResponse;
          }
        
           return "I'm sorry, I didn't understand that.";
        }
        
    </script>
     <!--custom cursor start  -->
      
     

</body>

 </html>